<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MMI Store – Cart</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  /* GENERAL STYLES */
  body {
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    background: #111 url('https://www.transparenttextures.com/patterns/carbon-fibre.png') repeat;
    color: #d4af37;
  }
  a { color: #d4af37; text-decoration: none; }
  a:hover { text-decoration: underline; }

  /* HEADER */
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 40px;
    background: rgba(17,17,17,0.95);
    box-shadow: 0 2px 10px rgba(212,175,55,0.2);
  }
  header h1 { margin: 0; font-size: 2em; letter-spacing: 2px; }

  /* DROPDOWN MENU */
  .dropdown { position: relative; display: inline-block; }
  .dropbtn {
      background-color: #d4af37;
      color: #000;
      padding: 10px 20px;
      font-size: 1em;
      font-weight: 700;
      border: none;
      border-radius: 8px;
      cursor: pointer;
  }
  .dropbtn:hover { background: #c19c32; }
  .dropdown-content {
      display: none;
      position: absolute;
      right: 0;
      background-color: #111;
      min-width: 200px;
      box-shadow: 0 4px 10px rgba(212,175,55,0.3);
      border-radius: 8px;
      z-index: 1;
  }
  .dropdown-content a {
      color: #d4af37;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
  }
  .dropdown-content a:hover { background-color: #222; }
  .dropdown:hover .dropdown-content { display: block; }

  /* MAIN CONTAINER */
  .container { width: 90%; max-width: 1000px; margin: auto; padding: 40px 0; }

  /* CART TABLE */
  table {
    width: 100%;
    border-collapse: collapse;
    background: rgba(17,17,17,0.9);
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(212,175,55,0.2);
  }
  th, td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid #333;
  }
  th { background: rgba(212,175,55,0.1); }
  td img { width: 60px; border-radius: 5px; }

  .remove-btn {
    background: #c19c32;
    color: #000;
    border: none;
    padding: 6px 12px;
    cursor: pointer;
    border-radius: 5px;
    font-weight: 700;
  }
  .remove-btn:hover { background: #a88528; }

  .total {
    text-align: right;
    margin-top: 20px;
    font-size: 1.3em;
    font-weight: 700;
  }

  .checkout-btn {
    display: block;
    width: 100%;
    padding: 15px;
    background: #d4af37;
    color: #000;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    font-size: 1.2em;
    margin-top: 20px;
    cursor: pointer;
  }
  .checkout-btn:hover { background: #c19c32; }

  /* FOOTER */
  footer {
    text-align: center;
    padding: 30px 20px;
    background: rgba(17,17,17,0.95);
    color: #888;
    font-size: 0.9em;
    border-top: 1px solid #222;
  }
  footer a { margin: 0 10px; color: #d4af37; font-weight: 600; }
  footer a:hover { color: #c19c32; }

</style>
</head>
<body>

<header>
  <h1>MMI Store</h1>
  <div class="dropdown">
    <button class="dropbtn">Menu ▼</button>
    <div class="dropdown-content">
      <a href="index.html">Home</a>
      <a href="products.html">Products</a>
      <a href="login.html">Login</a>
      <a href="cart.html">Cart</a>
    </div>
  </div>
</header>

<div class="container">
  <h2>Your Cart</h2>
  <table id="cartTable">
    <thead>
      <tr>
        <th>Product</th>
        <th>Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
      <!-- Cart items inserted here dynamically -->
    </tbody>
  </table>

  <div class="total" id="grandTotal">Total: £0.00</div>
  <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
</div>

<footer>
  &copy; 2025 MMI Store. All rights reserved.
  <br>
  <a href="index.html">Home</a> | 
  <a href="products.html">Products</a> |
  <a href="login.html">Login</a> | 
  <a href="cart.html">Cart</a>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem("cart") || "[]");

function displayCart() {
  const tbody = document.querySelector('#cartTable tbody');
  tbody.innerHTML = "";
  let grandTotal = 0;

  cart.forEach((item, index) => {
    const itemTotal = item.price * (item.quantity || 1);
    grandTotal += itemTotal;

    const row = document.createElement('tr');
    row.innerHTML = `
      <td><img src="https://via.placeholder.com/60" alt=""></td>
      <td>${item.name}</td>
      <td>£${item.price.toFixed(2)}</td>
      <td><input type="number" value="${item.quantity || 1}" min="1" onchange="updateQuantity(${index}, this.value)"></td>
      <td>£${itemTotal.toFixed(2)}</td>
      <td><button class="remove-btn" onclick="removeItem(${index})">Remove</button></td>
    `;
    tbody.appendChild(row);
  });

  document.getElementById('grandTotal').innerText = `Total: £${grandTotal.toFixed(2)}`;
}

function updateQuantity(index, value){
  cart[index].quantity = parseInt(value);
  localStorage.setItem("cart", JSON.stringify(cart));
  displayCart();
}

function removeItem(index){
  cart.splice(index, 1);
  localStorage.setItem("cart", JSON.stringify(cart));
  displayCart();
}

function checkout(){
  if(cart.length === 0){
    alert("Your cart is empty!");
    return;
  }
  alert("Checkout is not yet implemented. Total: £" + cart.reduce((a,b) => a + (b.price * (b.quantity || 1)),0).toFixed(2));
}

displayCart();
</script>

</body>
</html>
