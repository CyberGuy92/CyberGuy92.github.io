<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MMI Store – Login/Register</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    background: #111 url('https://www.transparenttextures.com/patterns/carbon-fibre.png') repeat;
    color: #d4af37;
}
a { color: #d4af37; text-decoration: none; }
a:hover { text-decoration: underline; }

header {
    display:flex; justify-content:space-between; align-items:center;
    padding:20px 40px; background:rgba(17,17,17,0.95);
    box-shadow:0 2px 10px rgba(212,175,55,0.2);
}
header h1 { margin:0; font-size:2em; letter-spacing:2px; }

.dropdown { position:relative; display:inline-block; }
.dropbtn {
    background-color:#d4af37; color:#000;
    padding:10px 20px; font-size:1em; font-weight:700;
    border:none; border-radius:8px; cursor:pointer;
}
.dropbtn:hover { background:#c19c32; }
.dropdown-content {
    display:none; position:absolute; right:0;
    background-color:#111; min-width:180px;
    box-shadow:0 4px 10px rgba(212,175,55,0.3); border-radius:8px; z-index:1;
}
.dropdown-content a { color:#d4af37; padding:12px 16px; text-decoration:none; display:block; }
.dropdown-content a:hover { background-color:#222; }
.dropdown:hover .dropdown-content { display:block; }

.container {
    width:90%; max-width:400px; margin:auto; padding:40px 0;
}

form {
    background: rgba(17,17,17,0.9);
    padding:30px; border-radius:15px;
    box-shadow:0 4px 15px rgba(212,175,55,0.2);
    display:flex; flex-direction:column; gap:15px;
}

form h2 { margin-top:0; text-align:center; }
form input {
    padding:12px; border-radius:8px; border:none;
    background:#222; color:#d4af37; font-size:1em;
}
form button {
    padding:12px; background:#d4af37; color:#000;
    border:none; border-radius:8px; font-weight:700; cursor:pointer;
}
form button:hover { background:#c19c32; }

.toggle-link {
    text-align:center; margin-top:10px;
    font-size:0.9em;
    cursor:pointer;
    color:#d4af37;
}
.toggle-link:hover { color:#c19c32; }

footer {
    text-align:center; padding:30px 20px;
    background:rgba(17,17,17,0.95);
    color:#888; font-size:0.9em; border-top:1px solid #222;
}
footer a { margin:0 10px; color:#d4af37; font-weight:600; }
footer a:hover { color:#c19c32; }

</style>
</head>
<body>

<header>
<h1><a href="index.html" style="color:#d4af37; text-decoration:none;">MMI Store</a></h1>
<div class="dropdown">
    <button class="dropbtn">Menu ▼</button>
    <div class="dropdown-content">
      <a href="index.html">Home</a>
      <a href="products.html">Products</a>
      <a href="login.html">Login</a>
      <a href="cart.html">Cart</a>
    </div>
</div>
</header>

<div class="container">

<form id="loginForm">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email" required>
    <input type="password" id="loginPassword" placeholder="Password" required>
    <button type="submit">Login</button>
    <div class="toggle-link" onclick="toggleForms()">Don't have an account? Register</div>
</form>

<form id="registerForm" style="display:none;">
    <h2>Register</h2>
    <input type="text" id="regName" placeholder="Full Name" required>
    <input type="email" id="regEmail" placeholder="Email" required>
    <input type="password" id="regPassword" placeholder="Password" required>
    <button type="submit">Register</button>
    <div class="toggle-link" onclick="toggleForms()">Already have an account? Login</div>
</form>

</div>

<footer>
  &copy; 2025 MMI Store. All rights reserved.
  <br>
  <a href="index.html">Home</a> | 
  <a href="products.html">Products</a> |
  <a href="login.html">Login</a> | 
  <a href="cart.html">Cart</a>
</footer>

<script>
// Toggle between login and register
function toggleForms(){
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    loginForm.style.display = loginForm.style.display === 'none' ? 'flex' : 'none';
    registerForm.style.display = registerForm.style.display === 'none' ? 'flex' : 'none';
}

// Simple localStorage-based auth
function getUsers(){ return JSON.parse(localStorage.getItem('users') || '[]'); }
function saveUsers(users){ localStorage.setItem('users', JSON.stringify(users)); }

// Registration
document.getElementById('registerForm').addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('regName').value;
    const email = document.getElementById('regEmail').value;
    const password = document.getElementById('regPassword').value;
    let users = getUsers();

    if(users.find(u => u.email === email)){
        alert('Email already registered!');
        return;
    }

    users.push({name, email, password, orders: []});
    saveUsers(users);
    alert('Registration successful! Please login.');
    toggleForms();
});

// Login
document.getElementById('loginForm').addEventListener('submit', function(e){
    e.preventDefault();
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    const users = getUsers();
    const user = users.find(u => u.email === email && u.password === password);
    if(user){
        localStorage.setItem('currentUser', JSON.stringify(user));
        alert('Login successful! Redirecting to account page.');
        window.location.href = 'account.html';
    }else{
        alert('Incorrect email or password!');
    }
});
</script>

</body>
</html>
